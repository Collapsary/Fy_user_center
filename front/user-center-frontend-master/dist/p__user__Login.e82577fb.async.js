(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{5966:function(U,h,e){"use strict";var D=e(28991),P=e(81253),c=e(85893),F=e(20974),a=["fieldProps","proFieldProps"],T=["fieldProps","proFieldProps"],l="text",p=function(u){var s=u.fieldProps,g=u.proFieldProps,n=(0,P.Z)(u,a);return(0,c.jsx)(F.Z,(0,D.Z)({valueType:l,fieldProps:s,filedConfig:{valueType:l},proFieldProps:g},n))},M=function(u){var s=u.fieldProps,g=u.proFieldProps,n=(0,P.Z)(u,T);return(0,c.jsx)(F.Z,(0,D.Z)({valueType:"password",fieldProps:s,proFieldProps:g,filedConfig:{valueType:l}},n))},L=p;L.Password=M,L.displayName="ProFormComponent",h.Z=L},43504:function(U,h,e){"use strict";e.d(h,{U:function(){return u}});var D=e(84305),P=e(39559),c=e(28991),F=e(81253),a=e(85893),T=e(31490),l=e(67294),p=e(5894),M=e(32384),L=e.n(M),b=["logo","message","contentStyle","title","subTitle","actions","children"];function u(s){var g,n=s.logo,ee=s.message,X=s.contentStyle,d=s.title,z=s.subTitle,r=s.actions,G=s.children,i=(0,F.Z)(s,b),Y=(0,T.YB)(),k=i.submitter===!1?!1:(0,c.Z)((0,c.Z)({searchConfig:{submitText:Y.getMessage("loginForm.submitText","\u767B\u5F55")}},i.submitter),{},{submitButtonProps:(0,c.Z)({size:"large",style:{width:"100%"}},(g=i.submitter)===null||g===void 0?void 0:g.submitButtonProps),render:function(A,W){var x,V=W.pop();if(typeof(i==null||(x=i.submitter)===null||x===void 0?void 0:x.render)=="function"){var I,K;return i==null||(I=i.submitter)===null||I===void 0||(K=I.render)===null||K===void 0?void 0:K.call(I,A,W)}return V}}),w=(0,l.useContext)(P.ZP.ConfigContext),q=w.getPrefixCls("pro-form-login"),v=function(A){return"".concat(q,"-").concat(A)},S=(0,l.useMemo)(function(){return n?typeof n=="string"?(0,a.jsx)("img",{src:n}):n:null},[n]);return(0,a.jsxs)("div",{className:v("container"),children:[(0,a.jsxs)("div",{className:v("top"),children:[d||S?(0,a.jsxs)("div",{className:v("header"),children:[S?(0,a.jsx)("span",{className:v("logo"),children:S}):null,d?(0,a.jsx)("span",{className:v("title"),children:d}):null]}):null,z?(0,a.jsx)("div",{className:v("desc"),children:z}):null]}),(0,a.jsxs)("div",{className:v("main"),style:(0,c.Z)({width:328},X),children:[(0,a.jsxs)(p.A,(0,c.Z)((0,c.Z)({isKeyPressSubmit:!0},i),{},{submitter:k,children:[ee,G]})),r?(0,a.jsx)("div",{className:v("other"),children:r}):null]})]})}},34687:function(U){U.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},32384:function(){},34436:function(U,h,e){"use strict";e.d(h,{C:function(){return D},U:function(){return P}});var D="https://636f-codenav-8grj8px727565176-1256524210.tcb.qcloud.la/img/logo.png",P="https://www.csdn.net/"},11436:function(U,h,e){"use strict";e.r(h),e.d(h,{default:function(){return de}});var D=e(49111),P=e(19650),c=e(18106),F=e(37858),a=e(34792),T=e(48086),l=e(90636),p=e(11849),M=e(3182),L=e(57337),b=e(17462),u=e(76772),s=e(89366),g=e(2603),n=e(67294),ee=e(63185),X=e(9676),d=e(28991),z=e(81253),r=e(85893),G=e(22270),i=e(43011),Y=e(20974),k=["options","fieldProps","proFieldProps","valueEnum"],w=n.forwardRef(function(m,E){var Z=m.options,B=m.fieldProps,H=m.proFieldProps,N=m.valueEnum,O=(0,z.Z)(m,k);return(0,r.jsx)(Y.Z,(0,d.Z)({ref:E,valueType:"checkbox",valueEnum:(0,G.h)(N,void 0),fieldProps:(0,d.Z)({options:Z},B),lightProps:(0,d.Z)({labelFormatter:function(){return(0,r.jsx)(Y.Z,(0,d.Z)({ref:E,valueType:"checkbox",mode:"read",valueEnum:(0,G.h)(N,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({options:Z},B),proFieldProps:H},O))}},O.lightProps),proFieldProps:H},O))}),q=n.forwardRef(function(m,E){var Z=m.fieldProps,B=m.children;return(0,r.jsx)(X.Z,(0,d.Z)((0,d.Z)({ref:E},Z),{},{children:B}))}),v=(0,i.G)(q,{valuePropName:"checked"}),S=v;S.Group=w;var _=S,A=e(43504),W=e(5966),x=e(95854),V=e(34436),I=e(29791),K=e(93387),le=e(34687),$=e.n(le),re=e(16924),ie=function(E){var Z=E.content;return(0,r.jsx)(u.Z,{style:{marginBottom:24},message:Z,type:"error",showIcon:!0})},ue=function(){var E=(0,n.useState)({}),Z=(0,L.Z)(E,1),B=Z[0],H=(0,n.useState)("account"),N=(0,L.Z)(H,2),O=N[0],te=N[1],se=(0,x.tT)("@@initialState"),J=se.initialState,ce=se.setInitialState,ve=function(){var R=(0,M.Z)((0,l.Z)().mark(function j(){var y,o;return(0,l.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,J==null||(y=J.fetchUserInfo)===null||y===void 0?void 0:y.call(J);case 2:if(o=f.sent,!o){f.next=6;break}return f.next=6,ce(function(Q){return(0,p.Z)((0,p.Z)({},Q),{},{currentUser:o})});case 6:case"end":return f.stop()}},j)}));return function(){return R.apply(this,arguments)}}(),me=function(){var R=(0,M.Z)((0,l.Z)().mark(function j(y){var o,C,f,Q,ne,oe,ae;return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,K.x4)((0,p.Z)((0,p.Z)({},y),{},{type:O}));case 3:if(o=t.sent,console.log("\u767B\u5F55\u54CD\u5E94:",o),!(o&&o.code===1&&o.data)){t.next=18;break}return C="\u767B\u5F55\u6210\u529F\uFF01",T.default.success(C),t.next=10,ve();case 10:if(x.m8){t.next=12;break}return t.abrupt("return");case 12:return f=x.m8.location.query,Q=f,ne=Q.redirect,x.m8.push(ne||"/admin"),t.abrupt("return");case 18:oe=(o==null?void 0:o.msg)||"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u8D26\u53F7\u5BC6\u7801\uFF01",T.default.error(oe),console.error("\u767B\u5F55\u5931\u8D25:",o);case 21:t.next=28;break;case 23:t.prev=23,t.t0=t.catch(0),console.error("\u767B\u5F55\u5F02\u5E38:",t.t0),ae=(t.t0===null||t.t0===void 0?void 0:t.t0.message)||"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",T.default.error(ae);case 28:case"end":return t.stop()}},j,null,[[0,23]])}));return function(y){return R.apply(this,arguments)}}(),fe=B.status,ge=B.type;return(0,r.jsxs)("div",{className:$().container,children:[(0,r.jsx)("div",{className:$().content,children:(0,r.jsxs)(A.U,{logo:(0,r.jsx)("img",{alt:"logo",src:V.C}),title:"\u7528\u6237\u7BA1\u7406\u4E2D\u5FC3",subTitle:(0,r.jsx)("a",{href:V.U,target:"_blank",rel:"noreferrer",children:"\u5B9E\u73B0\u7B80\u5355\u7684\u7528\u6237\u7BA1\u7406"}),initialValues:{autoLogin:!0},onFinish:function(){var R=(0,M.Z)((0,l.Z)().mark(function j(y){return(0,l.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,me(y);case 2:case"end":return C.stop()}},j)}));return function(j){return R.apply(this,arguments)}}(),children:[(0,r.jsx)(F.Z,{activeKey:O,onChange:te,children:(0,r.jsx)(F.Z.TabPane,{tab:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},"account")}),fe==="error"&&ge==="account"&&(0,r.jsx)(ie,{content:"\u9519\u8BEF\u7684\u8D26\u53F7\u548C\u5BC6\u7801"}),O==="account"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,r.jsx)(s.Z,{className:$().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",rules:[{required:!0,message:"\u8D26\u53F7\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,r.jsx)(W.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,r.jsx)(g.Z,{className:$().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"},{min:8,type:"string",message:"\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E 8"}]})]}),(0,r.jsxs)("div",{style:{marginBottom:24},children:[(0,r.jsx)("div",{style:{marginBottom:16},children:(0,r.jsx)(_,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"})}),(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsxs)(P.Z,{size:"large",children:[(0,r.jsx)(re.Link,{to:"/user/register",children:"\u65B0\u7528\u6237\u6CE8\u518C"}),(0,r.jsx)(re.Link,{to:"/user/forget-password",children:"\u5FD8\u8BB0\u5BC6\u7801"})]})})]})]})}),(0,r.jsx)(I.Z,{})]})},de=ue}}]);
